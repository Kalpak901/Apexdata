<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apex Data - The AI Platform for Profitable Decisions</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        :root {
            --primary-color: #007bff;
            --primary-hover-color: #0056b3;
            --secondary-color: #e9ecef;
            --background-color: #f8f9fa;
            --text-color: #212529;
            --text-color-light: #6c757d;
            --card-bg-color: #ffffff;
            --border-color: #dee2e6;
            --success-color: #28a745;
            --error-color: #dc3545;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--background-color); color: var(--text-color); line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .top-banner {
            background-color: var(--secondary-color);
            color: var(--text-color);
            text-align: center;
            padding: 0.75rem 2rem;
            font-weight: 500;
            position: relative;
            z-index: 1001;
        }
        .top-banner-close {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            cursor: pointer;
            line-height: 1;
            color: var(--text-color-light);
        }
        header { 
            background: rgba(255, 255, 255, 0.85); 
            backdrop-filter: blur(10px); 
            padding: 1rem 0; 
            position: sticky;
            top: 0;
            width: 100%; 
            z-index: 1000; 
            border-bottom: 1px solid var(--border-color);
            transition: top 0.3s;
        }
        nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: 700; color: var(--text-color); text-decoration: none; }
        .logo i { color: var(--primary-color); }
        nav ul { display: flex; list-style: none; }
        nav ul li { margin-left: 30px; }
        nav ul li a { color: var(--text-color); text-decoration: none; font-weight: 500; transition: color 0.3s ease; }
        nav ul li a:hover { color: var(--primary-color); }
        .hero { min-height: 90vh; display: flex; align-items: center; justify-content: center; text-align: center; background: linear-gradient(rgba(4, 12, 24, 0.6), rgba(4, 12, 24, 0.6)), url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover; }
        .hero-content h1 { font-size: 3.5rem; font-weight: 700; margin-bottom: 1rem; line-height: 1.2; color: #fff; }
        .hero-content h1 span { color: var(--primary-color); }
        .hero-content .sub-headline { font-size: 1.2rem; max-width: 700px; margin: 0 auto 2rem; color: #e0e0e0; font-style: italic;}
        .btn { display: inline-block; padding: 14px 32px; color: #fff; text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.3s ease; cursor: pointer; border: none; background-image: linear-gradient(to right, #0062E6, #33AEFF); box-shadow: 0 4px 15px 0 rgba(0, 118, 255, 0.35); }
        .btn:hover { background-image: linear-gradient(to right, #33AEFF, #0062E6); transform: translateY(-3px); box-shadow: 0 6px 20px 0 rgba(0, 118, 255, 0.5); }
        section { padding: 100px 0; }
        .section-title { text-align: center; margin-bottom: 3rem; font-size: 2.5rem; font-weight: 600; }
        .how-it-works-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .step-card, .faq-item { background: var(--card-bg-color); padding: 2rem; border-radius: 10px; border: 1px solid var(--border-color); text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .step-card i { font-size: 3rem; color: var(--primary-color); margin-bottom: 1rem; }
        .step-card h3 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        #deliverables { background-color: var(--secondary-color); }
        .deliverables-gallery { border: 1px solid var(--border-color); border-radius: 10px; overflow: hidden; margin-top: 2rem; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .deliverables-gallery img { width: 100%; height: auto; display: block; }
        .sample-report-cta { text-align: center; margin-top: 3rem; }
        .sample-report-cta p { margin-bottom: 1rem; font-size: 1.1rem; }
        .pricing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-top: 3rem; }
        .pricing-card { background: var(--card-bg-color); padding: 2rem; border-radius: 10px; border: 1px solid var(--border-color); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease; display: flex; flex-direction: column; }
        .pricing-card.highlight { border-color: var(--primary-color); border-width: 2px; transform: scale(1.02); }
        .pricing-card:hover { transform: translateY(-10px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); }
        .pricing-card h3 { font-size: 1.5rem; margin-bottom: 1rem; font-weight: 600; }
        .price { font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; color: var(--primary-color); }
        .pricing-card p { font-size: 0.9rem; color: var(--text-color-light); margin-bottom: 1.5rem; flex-grow: 1; }
        .delivery-time { font-weight: 600; color: var(--text-color-light); margin-bottom: 1.5rem; display: block; }
        .pricing-card .btn { width: 100%; margin-top: auto; }
        .faq-grid { grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem; }
        .faq-item { text-align: left; border-left: 4px solid var(--primary-color); }
        .faq-item h3 { margin-bottom: 0.5rem; }
        #about { background-color: var(--secondary-color); }
        #about p { text-align: center; max-width: 700px; margin: 0 auto; font-size: 1.2rem; line-height: 1.8; }
        .contact-form-container { max-width: 700px; margin: 0 auto; background: var(--card-bg-color); padding: 2.5rem; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .form-group { margin-bottom: 1.5rem; text-align: left; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 12px; background-color: var(--background-color); border: 1px solid var(--border-color); border-radius: 5px; color: var(--text-color); font-family: 'Poppins', sans-serif; font-size: 1rem; }
        .form-group textarea { resize: vertical; min-height: 120px; }
        footer { text-align: center; padding: 3rem 0; background-color: #343a40; border-top: 1px solid var(--border-color); color: #fff; }
        .footer-content { display: flex; justify-content: space-around; align-items: flex-start; flex-wrap: wrap; gap: 2rem; max-width: 600px; margin: 0 auto 2rem auto; }
        .footer-col h4 { margin-bottom: 1rem; color: #fff; }
        .footer-col ul { list-style: none; }
        .footer-col ul li { margin-bottom: 0.5rem; }
        .footer-col a { color: #e0e0e0; text-decoration: none; }
        .footer-col a:hover { color: var(--primary-color); }
        .modal-overlay { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); justify-content: center; align-items: center; }
        .modal-content { background-color: var(--card-bg-color); margin: auto; padding: 30px; border: 1px solid var(--border-color); border-radius: 10px; width: 90%; max-width: 500px; position: relative; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold; position: absolute; top: 10px; right: 20px; }
        .close-button:hover, .close-button:focus { color: var(--text-color); text-decoration: none; cursor: pointer; }
        #uploadForm .form-group { margin-bottom: 1.5rem; text-align: left; }
        #uploadForm textarea { resize: vertical; min-height: 120px; }
        @media (max-width: 992px) { .pricing-grid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); } }
        @media (max-width: 768px) { .hero-content h1 { font-size: 2.5rem; } nav ul { display: none; } }
    </style>
</head>
<body>

    <div class="top-banner" id="topBanner">
        Save <strong>days</strong> of manual work, get profitable insights in <strong>hours</strong> with the Apex Data Platform.
        <span class="top-banner-close" id="closeBanner">&times;</span>
    </div>

    <header>
        <nav class="container">
            <a href="index.html" class="logo"><i class="fas fa-chart-line"></i> Apex Data</a>
            <ul>
                <li><a href="#how-it-works">The Process</a></li>
                <li><a href="#deliverables">The Output</a></li>
                <li><a href="#pricing">Plans</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero" id="hero">
            <div class="hero-content">
                <h1>The AI Platform for <span>Profitable Decisions</span></h1>
                <p class="sub-headline">We help growing businesses turn complex data into actionable growth plans.</p>
                <a href="#pricing" class="btn">View Plans</a>
            </div>
        </section>

        <section id="how-it-works">
            <div class="container">
                <h2 class="section-title">From Data to Dollars in 3 Steps</h2>
                <div class="how-it-works-grid">
                    <div class="step-card">
                        <i class="fas fa-mouse-pointer"></i>
                        <h3>1. Select Your Plan</h3>
                        <p>Choose the right analysis depth and delivery speed for your business needs.</p>
                    </div>
                    <div class="step-card">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h3>2. Upload Your Data</h3>
                        <p>Securely submit your data to our encrypted, AI-powered processing engine.</p>
                    </div>
                    <div class="step-card">
                        <i class="fas fa-file-alt"></i>
                        <h3>3. Receive Your Growth Plan</h3>
                        <p>Get a comprehensive report and dashboard with clear, actionable recommendations.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="deliverables">
            <div class="container">
                <h2 class="section-title">Visualize Your Success</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 3rem auto; color: var(--text-color-light);">Our platform doesn't just give you numbers; it provides a clear, strategic view of your business performance.</p>
                <div class="deliverables-gallery">
                    <img src="https://placehold.co/1200x650/e9ecef/212529?text=Interactive+Dashboard+Demo+Space" alt="Demo Dashboard Space">
                </div>
                <div class="sample-report-cta">
                    <p>Want to see the full output? Download a sample strategic report.</p>
                    <a href="#" class="btn">Download Sample Report (PDF)</a>
                </div>
            </div>
        </section>

        <section id="security">
            <div class="container">
                <h2 class="section-title">An Enterprise-Grade Security Promise</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 3rem auto; color: var(--text-color-light);">
                    Your data is protected with end-to-end encryption, processed on Google Cloud's secure infrastructure, and permanently deleted 24 hours after your report is delivered.
                </p>
                <div class="how-it-works-grid">
                    <div class="step-card">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Data Encryption</h3>
                        <p>All data is encrypted both in transit (using TLS) and at rest on our secure servers.</p>
                    </div>
                    <div class="step-card">
                        <i class="fas fa-trash-alt"></i>
                        <h3>Secure Deletion</h3>
                        <p>Our platform is designed to permanently delete your uploaded data 24 hours after report generation.</p>
                    </div>
                    <div class="step-card">
                        <i class="fas fa-file-signature"></i>
                        <h3>Strict Confidentiality</h3>
                        <p>Our platform will never share, sell, or view your data for any purpose other than generating your insights.</p>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 3rem;">
                    <a href="privacy.html" style="color: var(--primary-color);">Read our full Privacy & Data Handling Policy</a>
                </div>
            </div>
        </section>

        <section id="pricing">
            <div class="container">
                <h2 class="section-title">Select Your Analysis Plan</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 3rem auto; color: var(--text-color-light);">
                    Each plan is designed to solve a specific business challenge. Choose the depth of analysis you need.
                </p>

                <div class="pricing-grid">
                    <div class="pricing-card">
                        <h3>Free Sample</h3>
                        <p>A risk-free way to experience the platform's core analysis.</p>
                        <span class="delivery-time">"In just a few minutes"</span>
                        <button class="btn open-modal-btn" data-plan="Free Sample">ðŸŽ¯ Try Free Sample</button>
                    </div>

                    <div class="pricing-card">
                        <h3>Essential Insights</h3>
                        <p>For a **one-time project analysis**. Perfect for validating a new idea or getting a quick health check on your business.</p>
                        <span class="delivery-time">Up to 2,000 Rows</span>
                        <button class="btn open-modal-btn" data-plan="Essential Insights">ðŸš€ Select Plan</button>
                    </div>

                    <div class="pricing-card highlight">
                        <h3>Growth Analytics</h3>
                        <p>For **weekly performance tracking**. Ideal for e-commerce brands needing to optimize marketing spend.</p>
                        <span class="delivery-time">Up to 4,500 Rows</span>
                        <button class="btn open-modal-btn" data-plan="Growth Analytics">âš¡ Unlock Growth</button>
                    </div>

                    <div class="pricing-card">
                        <h3>Business Intelligence</h3>
                        <p>For a **comprehensive monthly audit**. Understand deep trends in customer behavior.</p>
                        <span class="delivery-time">Up to 9,000 Rows</span>
                        <button class="btn open-modal-btn" data-plan="Business Intelligence">âš¡ Get Full Analysis</button>
                    </div>
                    
                    <div class="pricing-card">
                        <h3>Scale Analytics</h3>
                        <p>For **quarterly strategic reviews** or large-scale data migration projects.</p>
                        <span class="delivery-time">Up to 15,000 Rows</span>
                        <button class="btn open-modal-btn" data-plan="Scale Analytics">âš¡ Get Full Report</button>
                    </div>

                    <div class="pricing-card">
                        <h3>Apex Vault</h3>
                        <p>A **fully custom, enterprise-grade solution** with human expert review and consultation.</p>
                        <span class="delivery-time">20,000+ Rows</span>
                        <a href="#contact" class="btn">Contact Sales</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="faq">
            <div class="container">
                <h2 class="section-title">Frequently Asked Questions</h2>
                <div class="faq-grid">
                    <div class="faq-item">
                        <h3>What file formats does the platform support?</h3>
                        <p>Our platform currently supports .csv, .xlsx (Excel), and .json files. If you have another format, please contact us first.</p>
                    </div>
                    <div class="faq-item">
                        <h3>How does the platform handle data privacy?</h3>
                        <p>Your data is encrypted at all times and permanently deleted from our systems 24 hours after your report is generated. You can read our full <a href="privacy.html">Privacy Policy</a> for more details.</p>
                    </div>
                    <div class="faq-item">
                        <h3>Can I request specific metrics or KPIs?</h3>
                        <p>Yes! All paid plans include the option to specify custom metrics and requirements in the upload form. Our AI engine will focus the analysis on your specific needs.</p>
                    </div>
                     <div class="faq-item">
                        <h3>What is your refund policy?</h3>
                        <p>Due to the automated nature of our platform, we do not offer refunds once processing has begun. However, if you are unsatisfied with your report, please contact us and we will work with you to make it right.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="about">
             <div class="container">
                <h2 class="section-title">About The Apex Data Platform</h2>
                <p>The Apex Data platform was built by data engineers and AI enthusiasts passionate about turning raw data into strategic clarity. We believe powerful business decisions shouldn't take days to uncover.</p>
            </div>
        </section>

        <section id="contact">
            <div class="container">
                <h2 class="section-title">Get in Touch</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 3rem auto; color: var(--text-color-light);">Have a question about an enterprise solution or a custom project? Send us a message!</p>
                <div class="contact-form-container">
                    <form action="https://formspree.io/f/YOUR_UNIQUE_CODE" method="POST">
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Your Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        <button type="submit" class="btn" style="width:100%;">Send Message</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#pricing">Plans & Pricing</a></li>
                        <li><a href="#faq">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="mailto:contact.apexdata@gmail.com">Email Us</a></li>
                    </ul>
                </div>
            </div>
            <p>Copyright &copy; 2025 Apex Data</p>
        </div>
    </footer>
    
    <div id="uploadModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modalTitle" style="margin-bottom: 1.5rem;">Upload Your Data</h2>
            <form id="uploadForm">
                <input type="hidden" id="selectedPlan" name="plan">
                <input type="hidden" id="finalPrice" name="price">
                <input type="hidden" id="finalUrgency" name="urgency">
                <input type="hidden" id="paymentUrl" name="paymentUrl">

                <div class="form-group">
                    <label for="clientEmail">Your Email Address</label>
                    <input type="email" id="clientEmail" name="email" placeholder="We'll send the results here" required>
                </div>

                <div class="form-group" id="urgencyContainer">
                    <label for="urgencySelect">Select Delivery Speed</label>
                    <select id="urgencySelect" name="urgencySelection">
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="dataFile">Data File</label>
                    <input type="file" id="dataFile" name="file" accept=".csv, .xlsx, .json, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" required>
                </div>
                
                <div class="form-group">
                    <label for="requirements">Specific Requirements or Metrics (Optional)</label>
                    <textarea id="requirements" name="requirements" placeholder="e.g., 'Analyze the correlation between ad spend and user signups.'"></textarea>
                </div>
                
                <button type="submit" class="btn" id="submitBtn" style="width: 100%;">Proceed</button>
            </form>
            <div id="form-message"></div>
        </div>
    </div>

    <script>
        // --- DATA STRUCTURE FOR DYNAMIC SLABS ---
        const PLAN_OPTIONS = {
            'Essential Insights': {
                slabs: [
                    { time: '48 HOUR STANDARD', price: 399, url: '[STRIPE_LINK_1]' },
                    { time: '24 HOUR RUSH', price: 599, url: '[STRIPE_LINK_2]' },
                    { time: '6 HOUR PRIORITY', price: 799, url: '[STRIPE_LINK_3]' }
                ]
            },
            'Growth Analytics': {
                slabs: [
                    { time: '72 HOUR STANDARD', price: 899, url: '[STRIPE_LINK_4]' },
                    { time: '48 HOUR RUSH', price: 1199, url: '[STRIPE_LINK_5]' },
                    { time: '24 HOUR PRIORITY', price: 1599, url: '[STRIPE_LINK_6]' }
                ]
            },
            'Business Intelligence': {
                slabs: [
                    { time: '96 HOUR STANDARD', price: 1499, url: '[STRIPE_LINK_7]' },
                    { time: '72 HOUR RUSH', price: 1999, url: '[STRIPE_LINK_8]' },
                    { time: '48 HOUR PRIORITY', price: 2499, url: '[STRIPE_LINK_9]' }
                ]
            },
             'Scale Analytics': {
                 slabs: [
                    { time: '120 HOUR STANDARD', price: 2299, url: '[STRIPE_LINK_10]' },
                    { time: '96 HOUR RUSH', price: 2999, url: '[STRIPE_LINK_11]' },
                    { time: '72 HOUR PRIORITY', price: 3499, url: '[STRIPE_LINK_12]' }
                 ]
            },
            'Free Sample': {
                slabs: [{ time: 'Free Sample', price: 0, url: 'FREE' }]
            }
        };

        // --- MODAL CONTROL LOGIC ---
        const modal = document.getElementById('uploadModal');
        const openModalBtns = document.querySelectorAll('.open-modal-btn');
        const closeModalBtn = document.querySelector('.close-button');
        
        const selectedPlanInput = document.getElementById('selectedPlan');
        const finalPriceInput = document.getElementById('finalPrice');
        const finalUrgencyInput = document.getElementById('finalUrgency');
        const paymentUrlInput = document.getElementById('paymentUrl');
        
        const urgencyContainer = document.getElementById('urgencyContainer');
        const urgencySelect = document.getElementById('urgencySelect');
        
        const modalTitle = document.getElementById('modalTitle');
        const submitBtn = document.getElementById('submitBtn');
        const uploadForm = document.getElementById('uploadForm');

        const populateUrgencyDropdown = (plan) => {
            const options = PLAN_OPTIONS[plan];
            urgencySelect.innerHTML = ''; 
            
            options.slabs.forEach((slab, index) => {
                const option = document.createElement('option');
                option.value = index; 
                option.textContent = `${slab.time} - $${slab.price}`;
                urgencySelect.appendChild(option);
            });
            
            updateModalPrice(plan, 0); 
        };

        const updateModalPrice = (plan, slabIndex) => {
            const slab = PLAN_OPTIONS[plan].slabs[slabIndex];
            finalPriceInput.value = slab.price;
            finalUrgencyInput.value = slab.time;
            paymentUrlInput.value = slab.url;
            submitBtn.textContent = `Proceed to Payment ($${slab.price})`;
        };

        openModalBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const plan = btn.getAttribute('data-plan');
                
                selectedPlanInput.value = plan;
                modalTitle.textContent = `Configure Your ${plan} Report`;

                if (plan === 'Free Sample') {
                    urgencyContainer.style.display = 'none';
                    finalPriceInput.value = 0;
                    finalUrgencyInput.value = 'N/A';
                    paymentUrlInput.value = 'FREE';
                    submitBtn.textContent = 'Claim Free Report';
                } else {
                    urgencyContainer.style.display = 'block';
                    populateUrgencyDropdown(plan);
                    urgencySelect.onchange = () => updateModalPrice(plan, urgencySelect.value);
                }
                
                modal.style.display = 'flex';
                uploadForm.reset();
                document.getElementById('form-message').style.display = 'none';
            });
        });

        // --- GENERAL MODAL & SCRIPT LOGIC ---
        const closeModal = () => { modal.style.display = 'none'; }
        closeModalBtn.addEventListener('click', closeModal);
        window.addEventListener('click', (event) => { if (event.target == modal) { closeModal(); } });

        const messageDiv = document.getElementById('form-message');

        uploadForm.addEventListener('submit', async (event) => {
            event.preventDefault();
            const n8nWebhookUrl = 'YOUR_N8N_WEBHOOK_URL_HERE';
            const finalPaymentUrl = paymentUrlInput.value;

            if (n8nWebhookUrl === 'YOUR_N8N_WEBHOOK_URL_HERE' || (finalPaymentUrl.includes('[STRIPE_LINK') && finalPaymentUrl !== 'FREE')) {
                alert('CRITICAL: Please configure Stripe links and n8n webhook URL in the script.');
                return;
            }

            submitBtn.textContent = 'Uploading...';
            submitBtn.disabled = true;
            
            const formData = new FormData(uploadForm);
            
            try {
                const response = await fetch(n8nWebhookUrl, { method: 'POST', body: formData });
                if (!response.ok) throw new Error(`Server responded with status: ${response.status}`);
                
                if (finalPaymentUrl === 'FREE') {
                    messageDiv.textContent = 'Upload successful! Your free report will be emailed in a few minutes.';
                    messageDiv.className = 'message-success'; 
                    messageDiv.style.display = 'block';
                    setTimeout(closeModal, 4000);
                } else {
                    window.location.href = finalPaymentUrl;
                }
            } catch (error) {
                messageDiv.textContent = 'An error occurred during upload. Please try again.';
                messageDiv.className = 'message-error';
                messageDiv.style.display = 'block';
                console.error('Upload Error:', error);
            } finally {
                if (finalPaymentUrl !== 'FREE') {
                    submitBtn.textContent = `Proceed to Payment ($${finalPriceInput.value})`;
                    submitBtn.disabled = false;
                }
            }
        });

        document.getElementById('closeBanner').addEventListener('click', function() {
            document.getElementById('topBanner').style.display = 'none';
            document.querySelector('header').style.top = '0';
        });

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
            });
        });

    </script>
    
</body>
</html>


