<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apex Data - The AI-Powered Analytics Platform</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        :root {
            --primary-color: #007bff;
            --primary-hover-color: #0056b3;
            --secondary-color: #e9ecef;
            --background-color: #f8f9fa;
            --text-color: #212529;
            --text-color-light: #6c757d;
            --card-bg-color: #ffffff;
            --border-color: #dee2e6;
            --success-color: #28a745;
            --error-color: #dc3545;
            /* Custom Colors for Urgency Slabs */
            --priority-color: #e74c3c; 
            --rush-color: #f39c12;
            --standard-color: #2ecc71;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--background-color); color: var(--text-color); line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .top-banner {
            background-color: var(--secondary-color);
            color: var(--text-color);
            text-align: center;
            padding: 0.75rem 2rem;
            font-weight: 500;
            position: relative;
            z-index: 1001;
        }
        .top-banner-close {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            cursor: pointer;
            line-height: 1;
            color: var(--text-color-light);
        }
        header { 
            background: rgba(255, 255, 255, 0.85); 
            backdrop-filter: blur(10px); 
            padding: 1rem 0; 
            position: sticky;
            top: 0;
            width: 100%; 
            z-index: 1000; 
            border-bottom: 1px solid var(--border-color);
            transition: top 0.3s;
        }
        nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: 700; color: var(--text-color); text-decoration: none; }
        .logo i { color: var(--primary-color); }
        nav ul { display: flex; list-style: none; }
        nav ul li { margin-left: 30px; }
        nav ul li a { color: var(--text-color); text-decoration: none; font-weight: 500; transition: color 0.3s ease; }
        nav ul li a:hover { color: var(--primary-color); }
        .hero { min-height: 90vh; display: flex; align-items: center; justify-content: center; text-align: center; background: linear-gradient(rgba(4, 12, 24, 0.6), rgba(4, 12, 24, 0.6)), url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover; }
        .hero-content h1 { font-size: 3.5rem; font-weight: 700; margin-bottom: 1rem; line-height: 1.2; color: #fff; }
        .hero-content h1 span { color: var(--primary-color); }
        .hero-content .sub-headline { font-size: 1.2rem; max-width: 700px; margin: 0 auto 2rem; color: #e0e0e0; font-style: italic;}
        .btn { display: inline-block; padding: 14px 32px; color: #fff; text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.3s ease; cursor: pointer; border: none; background-image: linear-gradient(to right, #0062E6, #33AEFF); box-shadow: 0 4px 15px 0 rgba(0, 118, 255, 0.35); }
        .btn:hover { background-image: linear-gradient(to right, #33AEFF, #0062E6); transform: translateY(-3px); box-shadow: 0 6px 20px 0 rgba(0, 118, 255, 0.5); }
        section { padding: 100px 0; }
        .section-title { text-align: center; margin-bottom: 3rem; font-size: 2.5rem; font-weight: 600; }
        .step-card, .faq-item { background: var(--card-bg-color); padding: 2rem; border-radius: 10px; border: 1px solid var(--border-color); text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .step-card i { font-size: 3rem; color: var(--primary-color); margin-bottom: 1rem; }
        .step-card h3 { font-size: 1.5rem; margin-bottom: 0.5rem; }
        #deliverables { background-color: var(--secondary-color); }
        .deliverables-gallery { border: 1px solid var(--border-color); border-radius: 10px; overflow: hidden; margin-top: 2rem; box-shadow: 0 8px 25px rgba(0,0,0,0.1); }
        .deliverables-gallery img { width: 100%; height: auto; display: block; }
        .sample-report-cta { text-align: center; margin-top: 3rem; }
        .sample-report-cta p { margin-bottom: 1rem; font-size: 1.1rem; }
        .pricing-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-top: 3rem; }
        .pricing-card { background: var(--card-bg-color); padding: 2rem; border-radius: 10px; border: 1px solid var(--border-color); text-align: center; transition: transform 0.3s ease, box-shadow 0.3s ease; display: flex; flex-direction: column; }
        .pricing-card.highlight { border-color: var(--primary-color); border-width: 2px; transform: scale(1.02); }
        .pricing-card:hover { transform: translateY(-10px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); }
        .pricing-card h3 { font-size: 1.5rem; margin-bottom: 1rem; font-weight: 600; }
        .price { font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; color: var(--primary-color); }
        .pricing-card p { font-size: 0.9rem; color: var(--text-color-light); margin-bottom: 1.5rem; flex-grow: 1; }
        .delivery-time { font-weight: 600; color: var(--primary-color); margin-bottom: 1.5rem; display: block; }
        .pricing-card .btn { width: 100%; margin-top: auto; }
        .faq-grid { grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); }
        .faq-item { text-align: left; border-left: 4px solid var(--primary-color); }
        .faq-item h3 { margin-bottom: 0.5rem; }
        #about { background-color: var(--secondary-color); }
        #about p { text-align: center; max-width: 700px; margin: 0 auto; font-size: 1.2rem; line-height: 1.8; }
        .contact-form-container { max-width: 700px; margin: 0 auto; background: var(--card-bg-color); padding: 2.5rem; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .form-group { margin-bottom: 1.5rem; text-align: left; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; }
        .form-group input, .form-group textarea { width: 100%; padding: 12px; background-color: var(--background-color); border: 1px solid var(--border-color); border-radius: 5px; color: var(--text-color); font-family: 'Poppins', sans-serif; font-size: 1rem; }
        .form-group textarea { resize: vertical; min-height: 120px; }
        footer { text-align: center; padding: 3rem 0; background-color: #343a40; border-top: 1px solid var(--border-color); color: #fff; }
        .footer-content { display: flex; justify-content: space-around; align-items: flex-start; flex-wrap: wrap; gap: 2rem; max-width: 600px; margin: 0 auto 2rem auto; }
        .footer-col h4 { margin-bottom: 1rem; color: #fff; }
        .footer-col ul { list-style: none; }
        .footer-col ul li { margin-bottom: 0.5rem; }
        .footer-col a { color: #e0e0e0; text-decoration: none; }
        .footer-col a:hover { color: var(--primary-color); }
        .modal-overlay { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); justify-content: center; align-items: center; }
        .modal-content { background-color: var(--card-bg-color); margin: auto; padding: 30px; border: 1px solid var(--border-color); border-radius: 10px; width: 90%; max-width: 500px; position: relative; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .close-button { color: #aaa; float: right; font-size: 28px; font-weight: bold; position: absolute; top: 10px; right: 20px; }
        .close-button:hover, .close-button:focus { color: var(--text-color); text-decoration: none; cursor: pointer; }
        #uploadForm .form-group { margin-bottom: 1.5rem; text-align: left; }
        #uploadForm textarea { resize: vertical; min-height: 120px; }
        .modal-select-container { margin-bottom: 1.5rem; }
        .modal-select-container select { 
            width: 100%; 
            padding: 12px; 
            background-color: var(--background-color); 
            border: 1px solid var(--border-color); 
            border-radius: 5px; 
            color: var(--text-color); 
            font-family: 'Poppins', sans-serif; 
            font-size: 1rem; 
        }
        @media (max-width: 992px) { .pricing-grid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); } }
        @media (max-width: 768px) { .hero-content h1 { font-size: 2.5rem; } nav ul { display: none; } }
    </style>
</head>
<body>

    <div class="top-banner" id="topBanner">
        Save <strong>days</strong> of data analysis, get insights in <strong>hours</strong> with the Apex Data Platform.
        <span class="top-banner-close" id="closeBanner">&times;</span>
    </div>

    <header>
        <nav class="container">
            <a href="index.html" class="logo"><i class="fas fa-chart-line"></i> Apex Data</a>
            <ul>
                <li><a href="#how-it-works">How It Works</a></li>
                <li><a href="#deliverables">Demo</a></li>
                <li><a href="#pricing">Pricing</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero" id="hero">
            <div class="hero-content">
                <h1>The AI Analytics Platform <span>for Actionable Business Insights</span></h1>
                <p class="sub-headline">Trusted by professionals in retail, trading, and finance.</p>
                <a href="#pricing" class="btn">View Plans</a>
            </div>
        </section>

        <section id="how-it-works">
            <div class="container">
                <h2 class="section-title">From Data to Decision in 3 Steps</h2>
                <div class="step-card">
                    <i class="fas fa-mouse-pointer"></i>
                    <h3>1. Select Your Capacity</h3>
                    <p>Choose the plan that matches your data size and desired processing speed.</p>
                </div>
                <div class="step-card">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>2. Upload to the Platform</h3>
                    <p>Submit your data file to our secure and encrypted processing engine.</p>
                </div>
                <div class="step-card">
                    <i class="fas fa-file-alt"></i>
                    <h3>3. Get Your Automated Report</h3>
                    <p>Receive a comprehensive, professional report generated by our platform.</p>
                </div>
            </div>
        </section>

        <section id="deliverables">
            <div class="container">
                <h2 class="section-title">Explore the Platform's Output</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 3rem auto; color: var(--text-color-light);">Our platform transforms raw numbers into a clear, actionable report. Explore a sample of our interactive dashboard below.</p>
                <div class="deliverables-gallery">
                    <img src="https://placehold.co/1200x650/e9ecef/212529?text=Interactive+Dashboard+Demo+Space" alt="Demo Dashboard Space">
                </div>
                <div class="sample-report-cta">
                    <p>Want a closer look? Download a complete sample report in PDF format.</p>
                    <a href="#" class="btn">Download Sample Report (PDF)</a>
                </div>
            </section>

        <section id="security">
            <div class="container">
                <h2 class="section-title">An Enterprise-Grade Security Promise</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 3rem auto; color: var(--text-color-light);">
                    Your data is protected with end-to-end encryption, processed on Google Cloud's secure infrastructure, and permanently deleted 24 hours after your report is delivered.
                </p>
                <div class="how-it-works-grid">
                    <div class="step-card">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Data Encryption</h3>
                        <p>All data is encrypted both in transit (using TLS) and at rest on our secure servers.</p>
                    </div>
                    <div class="step-card">
                        <i class="fas fa-trash-alt"></i>
                        <h3>Secure Deletion</h3>
                        <p>Your uploaded data is permanently deleted from our systems 24 hours after your report is delivered.</p>
                    </div>
                    <div class="step-card">
                        <i class="fas fa-file-signature"></i>
                        <h3>Strict Confidentiality</h3>
                        <p>Our platform is designed to never share, sell, or view your data for any purpose other than generating your insights.</p>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 3rem;">
                    <a href="privacy.html" style="color: var(--primary-color);">Read our full Privacy & Data Handling Policy</a>
                </div>
            </div>
        </section>

        <section id="pricing">
            <div class="container">
                <h2 class="section-title">Select Your Plan</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 3rem auto; color: var(--text-color-light);">
                    Choose the right capacity for your needs. Our platform offers tiered processing speeds for urgent projects.
                </p>

                <div class="pricing-grid">
                    <div class="pricing-card">
                        <h3>Free Sample</h3>
                        <div class="price">$0</div>
                        <p>A risk-free way to experience the power of our platform.</p>
                        <span class="delivery-time">"In just a few minutes"</span>
                        <button class="btn open-modal-btn" data-plan="Free Sample" data-base-price="0">ðŸŽ¯ Try the Platform Free</button>
                    </div>

                    <div class="pricing-card">
                        <h3>Starter (2,000 Rows)</h3>
                        <p>Perfect for pilots or one-time projects.</p>
                        <div class="slab-grid">
                            <a href="#" class="slab-btn slab-priority open-modal-btn" data-plan="Starter" data-price="799" data-time="30 MIN PRIORITY">30 MIN PRIORITY: $799</a>
                            <a href="#" class="slab-btn slab-rush open-modal-btn" data-plan="Starter" data-price="599" data-time="2 HOUR RUSH">2 HOUR RUSH: $599</a>
                            <a href="#" class="slab-btn slab-standard open-modal-btn" data-plan="Starter" data-price="400" data-time="48 HOUR STANDARD">48 HOUR STANDARD: $400</a>
                        </div>
                    </div>

                    <div class="pricing-card highlight">
                        <h3>Advanced (4,500 Rows)</h3>
                        <p>Optimal for weekly business analysis.</p>
                        <div class="slab-grid">
                             <a href="#" class="slab-btn slab-priority open-modal-btn" data-plan="Advanced" data-price="1599" data-time="6 HOUR PRIORITY">6 HOUR PRIORITY: $1,599</a>
                             <a href="#" class="slab-btn slab-rush open-modal-btn" data-plan="Advanced" data-price="1199" data-time="24 HOUR RUSH">24 HOUR RUSH: $1,199</a>
                             <a href="#" class="slab-btn slab-standard open-modal-btn" data-plan="Advanced" data-price="899" data-time="72 HOUR STANDARD">72 HOUR STANDARD: $899</a>
                        </div>
                    </div>

                    <div class="pricing-card">
                        <h3>Pro Volume (9,000 Rows)</h3>
                        <p>Serious power for monthly audits.</p>
                         <div class="slab-grid">
                             <a href="#" class="slab-btn slab-priority open-modal-btn" data-plan="Pro Volume" data-price="2499" data-time="12 HOUR PRIORITY">12 HOUR PRIORITY: $2,499</a>
                             <a href="#" class="slab-btn slab-rush open-modal-btn" data-plan="Pro Volume" data-price="1999" data-time="48 HOUR RUSH">48 HOUR RUSH: $1,999</a>
                             <a href="#" class="slab-btn slab-standard open-modal-btn" data-plan="Pro Volume" data-price="1499" data-time="96 HOUR STANDARD">96 HOUR STANDARD: $1,499</a>
                        </div>
                    </div>

                    <div class="pricing-card">
                        <h3>Bulk Batch (15,000 Rows)</h3>
                        <p>For data migration or quarterly events.</p>
                         <div class="slab-grid">
                             <a href="#" class="slab-btn slab-priority open-modal-btn" data-plan="Bulk Batch" data-price="3499" data-time="18 HOUR PRIORITY">18 HOUR PRIORITY: $3,499</a>
                             <a href="#" class="slab-btn slab-rush open-modal-btn" data-plan="Bulk Batch" data-price="2999" data-time="48 HOUR RUSH">48 HOUR RUSH: $2,999</a>
                             <a href="#" class="slab-btn slab-standard open-modal-btn" data-plan="Bulk Batch" data-price="2299" data-time="120 HOUR STANDARD">120 HOUR STANDARD: $2,299</a>
                        </div>
                    </div>

                    <div class="pricing-card">
                        <h3>Apex Vault (20,000 Rows)</h3>
                        <p>Integrity, Compliance & $500 Guarantee.</p>
                        <div class="slab-grid">
                            <a href="#contact" class="slab-btn slab-priority">6 HOUR PRIORITY: $4,999</a>
                            <a href="#" class="slab-btn slab-rush open-modal-btn" data-plan="Apex Vault" data-price="3999" data-time="48 HOUR RUSH">48 HOUR RUSH: $3,999</a>
                            <a href="#" class="slab-btn slab-standard open-modal-btn" data-plan="Apex Vault" data-price="2999" data-time="120 HOUR STANDARD">120 HOUR STANDARD: $2,999</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="faq">
            <div class="container">
                <h2 class="section-title">Frequently Asked Questions</h2>
                <div class="faq-grid">
                    <div class="faq-item">
                        <h3>What file formats does the platform support?</h3>
                        <p>Our platform currently supports .csv, .xlsx (Excel), and .json files. If you have another format, please contact us first.</p>
                    </div>
                    <div class="faq-item">
                        <h3>How does the platform handle data privacy?</h3>
                        <p>Your data is encrypted at all times and permanently deleted from our systems 24 hours after your report is generated. You can read our full <a href="privacy.html">Privacy Policy</a> for more details.</p>
                    </div>
                    <div class="faq-item">
                        <h3>Can I request specific metrics or KPIs?</h3>
                        <p>Yes! All paid plans include the option to specify custom metrics and requirements in the upload form. Our AI engine will focus the analysis on your specific needs.</p>
                    </div>
                     <div class="faq-item">
                        <h3>What is your refund policy?</h3>
                        <p>Due to the automated nature of our platform, we do not offer refunds once processing has begun. However, if you are unsatisfied with your report, please contact us and we will work with you to make it right.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="about">
             <div class="container">
                <h2 class="section-title">About Apex Data</h2>
                <p>The Apex Data platform was built by data engineers and AI enthusiasts passionate about turning raw data into clarity. We believe powerful insights shouldn't take days to uncover.</p>
            </div>
        </section>

        <section id="contact">
            <div class="container">
                <h2 class="section-title">Get in Touch</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 3rem auto; color: var(--text-color-light);">Have a question about our Apex Vault plan or a custom enterprise project? Send us a message!</p>
                <div class="contact-form-container">
                    <form action="https://formspree.io/f/YOUR_UNIQUE_CODE" method="POST">
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Your Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        <button type="submit" class="btn" style="width:100%;">Send Message</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#pricing">Plans & Pricing</a></li>
                        <li><a href="#faq">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="mailto:contact.apexdata@gmail.com">Email Us</a></li>
                    </ul>
                </div>
            </div>
            <p>Copyright &copy; 2025 Apex Data</p>
        </div>
    </footer>
    
    <div id="uploadModal" class="modal-overlay">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 id="modalTitle" style="margin-bottom: 1.5rem;">Upload Your Data</h2>
            <form id="uploadForm">
                <input type="hidden" id="selectedPlan" name="plan">
                <input type="hidden" id="selectedUrgency" name="urgency">
                <input type="hidden" id="selectedPrice" name="price">
                <input type="hidden" id="paymentUrl" name="paymentUrl">

                <div class="form-group">
                    <label for="clientEmail">Your Email Address</label>
                    <input type="email" id="clientEmail" name="email" placeholder="We'll send the results here" required>
                </div>
                
                <div class="form-group">
                    <label for="dataFile">Data File</label>
                    <input type="file" id="dataFile" name="file" accept=".csv, .xlsx, .json, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" required>
                </div>
                
                <div class="form-group">
                    <label for="requirements">Specific Requirements or Metrics (Optional)</label>
                    <textarea id="requirements" name="requirements" placeholder="e.g., 'Analyze the correlation between ad spend and user signups.'"></textarea>
                </div>
                
                <button type="submit" class="btn" id="submitBtn" style="width: 100%;">Proceed to Payment</button>
            </form>
            <div id="form-message"></div>
        </div>
    </div>

    <script>
        // --- DATA STRUCTURE FOR DYNAMIC SLABS ---
        // This is a simplified version for demonstration. You would replace the URLs with your actual Stripe payment links.
        const SLAB_PRICES = {
            'Starter': [
                { time: '30 MIN PRIORITY', price: 799, url: '[STRIPE_LINK_STARTER_PRIORITY]' },
                { time: '2 HOUR RUSH', price: 599, url: '[STRIPE_LINK_STARTER_RUSH]' },
                { time: '48 HOUR STANDARD', price: 400, url: '[STRIPE_LINK_STARTER_STANDARD]' }
            ],
            'Advanced': [
                { time: '6 HOUR PRIORITY', price: 1599, url: '[STRIPE_LINK_ADVANCED_PRIORITY]' },
                { time: '24 HOUR RUSH', price: 1199, url: '[STRIPE_LINK_ADVANCED_RUSH]' },
                { time: '72 HOUR STANDARD', price: 899, url: '[STRIPE_LINK_ADVANCED_STANDARD]' }
            ],
            'Pro Volume': [
                { time: '12 HOUR PRIORITY', price: 2499, url: '[STRIPE_LINK_PROVOL_PRIORITY]' },
                { time: '48 HOUR RUSH', price: 1999, url: '[STRIPE_LINK_PROVOL_RUSH]' },
                { time: '96 HOUR STANDARD', price: 1499, url: '[STRIPE_LINK_PROVOL_STANDARD]' }
            ],
            'Bulk Batch': [
                { time: '18 HOUR PRIORITY', price: 3499, url: '[STRIPE_LINK_BULK_PRIORITY]' },
                { time: '48 HOUR RUSH', price: 2999, url: '[STRIPE_LINK_BULK_RUSH]' },
                { time: '120 HOUR STANDARD', price: 2299, url: '[STRIPE_LINK_BULK_STANDARD]' }
            ],
            'Apex Vault': [
                { time: '48 HOUR RUSH', price: 3999, url: '[STRIPE_LINK_VAULT_RUSH]' },
                { time: '120 HOUR STANDARD', price: 2999, url: '[STRIPE_LINK_VAULT_STANDARD]' }
            ],
             'Free Sample': [
                { time: 'Free Sample', price: 0, url: 'FREE' }
            ]
        };

        // --- MODAL CONTROL LOGIC ---
        const modal = document.getElementById('uploadModal');
        const openModalBtns = document.querySelectorAll('.open-modal-btn');
        const closeModalBtn = document.querySelector('.close-button');
        const selectedPlanInput = document.getElementById('selectedPlan');
        const selectedUrgencyInput = document.getElementById('selectedUrgency');
        const selectedPriceInput = document.getElementById('selectedPrice');
        const paymentUrlInput = document.getElementById('paymentUrl');
        const uploadForm = document.getElementById('uploadForm');
        const modalTitle = document.getElementById('modalTitle');
        const submitBtn = document.getElementById('submitBtn');

        // Open Modal Handler
        openModalBtns.forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault(); // Prevent default link behavior
                
                const plan = btn.getAttribute('data-plan');
                const price = btn.getAttribute('data-price');
                const time = btn.getAttribute('data-time');

                selectedPlanInput.value = plan;
                modalTitle.textContent = `Confirm Plan: ${plan}`;
                
                if (plan === 'Free Sample') {
                    selectedUrgencyInput.value = 'N/A';
                    selectedPriceInput.value = '0';
                    paymentUrlInput.value = 'FREE';
                    submitBtn.textContent = 'Claim Free Report';
                } else {
                    selectedUrgencyInput.value = time;
                    selectedPriceInput.value = price;
                    const selectedSlab = SLAB_PRICES[plan].find(slab => slab.time === time && slab.price == price);
                    paymentUrlInput.value = selectedSlab ? selectedSlab.url : '[STRIPE_LINK_ERROR]';
                    submitBtn.textContent = `Proceed to Payment ($${price})`;
                }

                modal.style.display = 'flex';
            });
        });

        // Close Modal Logic
        const closeModal = () => { modal.style.display = 'none'; }
        closeModalBtn.addEventListener('click', closeModal);
        window.addEventListener('click', (event) => { if (event.target == modal) { closeModal(); } });
        
        // --- FORM SUBMISSION LOGIC ---
        uploadForm.addEventListener('submit', async (event) => {
            event.preventDefault();
            
            const n8nWebhookUrl = 'YOUR_N8N_WEBHOOK_URL_HERE';
            const finalPaymentUrl = paymentUrlInput.value;

            if (n8nWebhookUrl === 'YOUR_N8N_WEBHOOK_URL_HERE' || (finalPaymentUrl.includes('[STRIPE_LINK') && finalPaymentUrl !== 'FREE')) {
                alert('CRITICAL: Please configure the Stripe links and n8n webhook URL in the script.');
                return;
            }

            submitBtn.textContent = 'Uploading...';
            submitBtn.disabled = true;
            
            const formData = new FormData(uploadForm);
            
            try {
                const response = await fetch(n8nWebhookUrl, {
                    method: 'POST',
                    body: formData,
                });

                if (!response.ok) {
                    throw new Error(`Server responded with status: ${response.status}`);
                }
                
                if (finalPaymentUrl === 'FREE') {
                     alert('Upload successful! Your free report will be emailed shortly.');
                     closeModal();
                } else {
                     window.location.href = finalPaymentUrl;
                }

            } catch (error) {
                alert('An error occurred during upload. Please try again or check console for details.');
                console.error('Upload Error:', error);
            } finally {
                submitBtn.textContent = 'Proceed to Payment';
                submitBtn.disabled = false;
            }
        });
        
        // --- BANNER CLOSE LOGIC ---
        document.getElementById('closeBanner').addEventListener('click', function() {
            document.getElementById('topBanner').style.display = 'none';
            document.querySelector('header').style.top = '0';
        });

    </script>
    
</body>
</html>


